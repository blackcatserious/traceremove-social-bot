(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5166],{5531:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var a=t(2265);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase()),i=e=>{let s=l(e);return s.charAt(0).toUpperCase()+s.slice(1)},n=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim(),c=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,a.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:l="",children:i,iconNode:m,...o},x)=>(0,a.createElement)("svg",{ref:x,...d,width:s,height:s,stroke:e,strokeWidth:r?24*Number(t)/Number(s):t,className:n("lucide",l),...!i&&!c(o)&&{"aria-hidden":"true"},...o},[...m.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(i)?i:[i]])),o=(e,s)=>{let t=(0,a.forwardRef)(({className:t,...l},c)=>(0,a.createElement)(m,{ref:c,iconNode:s,className:n(`lucide-${r(i(e))}`,`lucide-${e}`,t),...l}));return t.displayName=i(e),t}},998:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(5531);let r=(0,a.Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},4530:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(5531);let r=(0,a.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6141:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(5531);let r=(0,a.Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},7332:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(5531);let r=(0,a.Z)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},7810:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(5531);let r=(0,a.Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},4280:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(5531);let r=(0,a.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6714:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(5531);let r=(0,a.Z)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},5790:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(5531);let r=(0,a.Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4631:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(5531);let r=(0,a.Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(5531);let r=(0,a.Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6424:function(e,s,t){Promise.resolve().then(t.bind(t,6421))},6421:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var a=t(7437),r=t(2265),l=t(4280),i=t(998),n=t(5790),c=t(6714),d=t(7810),m=t(4530),o=t(4631),x=t(7332),h=t(2369),u=t(6141);function p(){var e;let[s,t]=(0,r.useState)(null),[p,y]=(0,r.useState)(!0),[f,v]=(0,r.useState)(new Date),j=async()=>{try{var e,s,a,r,l,i,n,c,d,m,o;y(!0);let x=await fetch("/api/system/realtime"),h=await x.json(),u={summary:"System Status: ".concat((null===(e=h.services)||void 0===e?void 0:e.filter(e=>"healthy"===e.status).length)===(null===(s=h.services)||void 0===s?void 0:s.length)?"Healthy":"Degraded"," | Uptime: ").concat(Math.floor((null===(a=h.system)||void 0===a?void 0:a.uptime)/3600),"h ").concat(Math.floor((null===(r=h.system)||void 0===r?void 0:r.uptime)%3600/60),"m | Memory: ").concat(null===(i=h.system)||void 0===i?void 0:null===(l=i.memoryUsage)||void 0===l?void 0:l.toFixed(1),"MB"),metrics:{timestamp:h.timestamp,apiResponseTimes:h.api||{},databaseConnections:(null===(n=h.database)||void 0===n?void 0:n.connections)||0,vectorIndexSize:(null===(c=h.database)||void 0===c?void 0:c.vectorIndexSize)||0,notionSyncStatus:{},modelUsage:h.ai||{},memoryUsage:(null===(d=h.system)||void 0===d?void 0:d.memoryUsage)||0,uptime:(null===(m=h.system)||void 0===m?void 0:m.uptime)||0},health:h.services||[],recommendations:(null===(o=h.alerts)||void 0===o?void 0:o.map(e=>e.message))||["All systems operating normally."]};t(u),v(new Date)}catch(e){console.error("Failed to fetch system health:",e)}finally{y(!1)}};(0,r.useEffect)(()=>{j();let e=setInterval(j,1e4);return()=>clearInterval(e)},[]);let N=e=>{switch(e){case"healthy":return"bg-green-600/20 text-green-400";case"degraded":return"bg-yellow-600/20 text-yellow-400";case"unhealthy":return"bg-red-600/20 text-red-400";default:return"bg-gray-600/20 text-gray-400"}};return p&&!s?(0,a.jsx)("div",{className:"main-content",children:(0,a.jsx)("div",{className:"fade-in",children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,a.jsx)(l.Z,{className:"w-8 h-8 animate-spin text-blue-400"}),(0,a.jsx)("span",{className:"ml-3 text-secondary",children:"Loading system health..."})]})})}):(0,a.jsx)("div",{className:"main-content",children:(0,a.jsxs)("div",{className:"fade-in",children:[(0,a.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-primary mb-2",children:"System Monitoring & Health"}),(0,a.jsx)("p",{className:"text-secondary",children:"Real-time system metrics and service health monitoring"})]}),(0,a.jsxs)("button",{onClick:j,disabled:p,className:"flex items-center px-4 py-2 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors disabled:opacity-50",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 mr-2 ".concat(p?"animate-spin":"")}),"Refresh"]})]}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-xl",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-primary mb-2",children:"System Summary"}),(0,a.jsx)("p",{className:"text-secondary",children:s.summary}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Last updated: ",f.toLocaleTimeString()]})]}),(0,a.jsxs)("div",{className:"grid-professional grid-cols-4 mb-8",children:[(0,a.jsxs)("div",{className:"card-professional",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(i.Z,{className:"w-6 h-6 text-green-400"}),(0,a.jsxs)("span",{className:"text-sm font-medium status-active",children:[s.health.filter(e=>"healthy"===e.status).length,"/",s.health.length," Healthy"]})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary mb-1",children:[s.metrics.memoryUsage.toFixed(1),"MB"]}),(0,a.jsx)("div",{className:"text-secondary text-sm",children:"Memory Usage"})]}),(0,a.jsxs)("div",{className:"card-professional",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(n.Z,{className:"w-6 h-6 text-blue-400"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-400",children:(e=s.metrics.uptime,"".concat(Math.floor(e/3600),"h ").concat(Math.floor(e%3600/60),"m"))})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-primary mb-1",children:Object.keys(s.metrics.apiResponseTimes).length}),(0,a.jsx)("div",{className:"text-secondary text-sm",children:"API Endpoints"})]}),(0,a.jsxs)("div",{className:"card-professional",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(c.Z,{className:"w-6 h-6 text-purple-400"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-green-400",children:[Object.keys(s.metrics.modelUsage).length," Models"]})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-primary mb-1",children:s.metrics.databaseConnections}),(0,a.jsx)("div",{className:"text-secondary text-sm",children:"DB Connections"})]}),(0,a.jsxs)("div",{className:"card-professional",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(d.Z,{className:"w-6 h-6 text-red-400"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-400",children:"Operational"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-primary mb-1",children:s.health.filter(e=>"healthy"===e.status).length}),(0,a.jsx)("div",{className:"text-secondary text-sm",children:"Healthy Services"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{className:"card-professional",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-primary mb-6",children:"Service Health Status"}),(0,a.jsx)("div",{className:"space-y-4",children:s.health.map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-700/50 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:["healthy"===e.status?(0,a.jsx)(m.Z,{className:"w-5 h-5 text-green-400 mr-3"}):"degraded"===e.status?(0,a.jsx)(o.Z,{className:"w-5 h-5 text-yellow-400 mr-3"}):(0,a.jsx)(o.Z,{className:"w-5 h-5 text-red-400 mr-3"}),(0,a.jsx)("h3",{className:"font-semibold text-primary",children:e.service})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(N(e.status)),children:e.status})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary text-sm",children:"Response Time"}),(0,a.jsx)("p",{className:"text-primary font-semibold",children:e.responseTime?"".concat(e.responseTime,"ms"):"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-secondary text-sm",children:"Last Check"}),(0,a.jsx)("p",{className:"text-primary font-semibold",children:new Date(e.lastCheck).toLocaleTimeString()})]})]}),e.error&&(0,a.jsx)("div",{className:"mt-3 p-2 bg-red-600/10 rounded text-red-400 text-xs",children:e.error})]},e.service))})]}),(0,a.jsxs)("div",{className:"card-professional",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-primary mb-6",children:"System Recommendations"}),(0,a.jsx)("div",{className:"space-y-4",children:s.recommendations.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 ".concat(e.includes("Critical")?"bg-red-400":e.includes("Warning")?"bg-yellow-400":"bg-green-400")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-primary text-sm",children:e}),(0,a.jsx)("p",{className:"text-secondary text-xs",children:new Date().toLocaleTimeString()})]})]},s))})]})]}),(0,a.jsxs)("div",{className:"card-professional",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-primary mb-6",children:"Performance Metrics"}),(0,a.jsxs)("div",{className:"grid-professional grid-cols-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-600/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(x.Z,{className:"w-8 h-8 text-blue-400"})}),(0,a.jsx)("p",{className:"text-2xl font-bold text-primary mb-1",children:s.metrics.vectorIndexSize}),(0,a.jsx)("p",{className:"text-secondary text-sm",children:"Vector Index Size"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-600/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"w-8 h-8 text-green-400"})}),(0,a.jsx)("p",{className:"text-2xl font-bold text-primary mb-1",children:Object.keys(s.metrics.apiResponseTimes).length}),(0,a.jsx)("p",{className:"text-secondary text-sm",children:"Active Endpoints"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-purple-600/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"w-8 h-8 text-purple-400"})}),(0,a.jsx)("p",{className:"text-2xl font-bold text-primary mb-1",children:Object.values(s.metrics.modelUsage).reduce((e,s)=>e+s.requests,0)}),(0,a.jsx)("p",{className:"text-secondary text-sm",children:"Total AI Requests"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-orange-600/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(u.Z,{className:"w-8 h-8 text-orange-400"})}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-primary mb-1",children:[Object.values(s.metrics.apiResponseTimes).length>0?Math.round(Object.values(s.metrics.apiResponseTimes).reduce((e,s)=>e+s,0)/Object.values(s.metrics.apiResponseTimes).length):0,"ms"]}),(0,a.jsx)("p",{className:"text-secondary text-sm",children:"Avg Response Time"})]})]})]})]})]})})}},622:function(e,s,t){"use strict";var a=t(2265),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,s,t){var a,l={},d=null,m=null;for(a in void 0!==t&&(d=""+t),void 0!==s.key&&(d=""+s.key),void 0!==s.ref&&(m=s.ref),s)i.call(s,a)&&!c.hasOwnProperty(a)&&(l[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===l[a]&&(l[a]=s[a]);return{$$typeof:r,type:e,key:d,ref:m,props:l,_owner:n.current}}s.Fragment=l,s.jsx=d,s.jsxs=d},7437:function(e,s,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[2971,2472,560],function(){return e(e.s=6424)}),_N_E=e.O()}]);