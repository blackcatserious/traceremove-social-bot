"use strict";(()=>{var e={};e.id=3517,e.ids=[3517],e.modules={21841:e=>{e.exports=require("@aws-sdk/client-s3")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},87561:e=>{e.exports=require("node:fs")},84492:e=>{e.exports=require("node:stream")},72477:e=>{e.exports=require("node:stream/web")},71017:e=>{e.exports=require("path")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},71267:e=>{e.exports=require("worker_threads")},59796:e=>{e.exports=require("zlib")},75489:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>y});var s={};r.r(s),r.d(s,{GET:()=>p,dynamic:()=>m,runtime:()=>u});var a=r(10884),o=r(16132),i=r(21040),n=r(95798);let u="nodejs",m="force-dynamic";async function p(e){try{let{getSystemMetrics:e,performHealthChecks:t}=await r.e(7356).then(r.bind(r,47356)),s=e(),a=await t(),o=s.apiResponseTimes,i=s.modelUsage,u={timestamp:new Date().toISOString(),system:{uptime:s.uptime,memoryUsage:s.memoryUsage,memoryPercent:Math.round(s.memoryUsage/512*100),cpuUsage:Math.round(30*Math.random()+10)},services:a.map(e=>({name:e.service,status:e.status,responseTime:e.responseTime||0,lastCheck:e.lastCheck})),api:{totalEndpoints:Object.keys(o).length,averageResponseTime:Object.values(o).length>0?Math.round(Object.values(o).reduce((e,t)=>e+t,0)/Object.values(o).length):0,requestsPerMinute:Math.round(100*Math.random()+50)},database:{connections:s.databaseConnections,vectorIndexSize:s.vectorIndexSize,queryCount:Math.round(1e3*Math.random()+500)},ai:{totalRequests:Object.values(i).reduce((e,t)=>e+t.requests,0),totalTokens:Object.values(i).reduce((e,t)=>e+t.tokens,0),activeModels:Object.keys(i).length,errorRate:Object.values(i).reduce((e,t)=>e+t.errors,0)},alerts:function(e,t){let r=[],s=new Date().toISOString(),a=e.filter(e=>"unhealthy"===e.status);a.length>0&&r.push({type:"service",message:`${a.length} service(s) are unhealthy: ${a.map(e=>e.service).join(", ")}`,severity:"error",timestamp:s});let o=e.filter(e=>"degraded"===e.status);o.length>0&&r.push({type:"performance",message:`${o.length} service(s) are degraded: ${o.map(e=>e.service).join(", ")}`,severity:"warning",timestamp:s}),t.memoryUsage>400&&r.push({type:"memory",message:`High memory usage detected: ${t.memoryUsage.toFixed(1)}MB`,severity:"warning",timestamp:s});let i=t.apiResponseTimes,n=Object.values(i).length>0?Object.values(i).reduce((e,t)=>e+t,0)/Object.values(i).length:0;return n>2e3&&r.push({type:"performance",message:`High API response times detected: ${n.toFixed(0)}ms average`,severity:"warning",timestamp:s}),0===r.length&&r.push({type:"system",message:"All systems operating normally",severity:"info",timestamp:s}),r}(a,s)};return n.Z.json(u)}catch(e){return console.error("Realtime metrics API error:",e),n.Z.json({error:"Failed to fetch realtime metrics",details:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toISOString()},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/system/realtime/route",pathname:"/api/system/realtime",filename:"route",bundlePath:"app/api/system/realtime/route"},resolvedPagePath:"/workspaces/traceremove-social-bot/src/app/api/system/realtime/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:h,headerHooks:g,staticGenerationBailout:y}=c,v="/api/system/realtime/route";function x(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[3271,8107],()=>r(75489));module.exports=s})();