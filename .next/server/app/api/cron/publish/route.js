"use strict";(()=>{var e={};e.id=2198,e.ids=[2198],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},87561:e=>{e.exports=require("node:fs")},84492:e=>{e.exports=require("node:stream")},72477:e=>{e.exports=require("node:stream/web")},71017:e=>{e.exports=require("path")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},71267:e=>{e.exports=require("worker_threads")},59796:e=>{e.exports=require("zlib")},79699:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>v,originalPathname:()=>w,patchFetch:()=>y,requestAsyncStorage:()=>q,routeModule:()=>h,serverHooks:()=>f,staticGenerationAsyncStorage:()=>b,staticGenerationBailout:()=>g});var o={};t.r(o),t.d(o,{GET:()=>x,dynamic:()=>m});var a=t(10884),s=t(16132),i=t(21040),u=t(95798),p=t(83207),n=t(27276),l=t(20806),c=t(58159),d=t(54751);let m="force-dynamic";async function x(){let e=process.env.CRON_POST_LIMIT,r=e&&parseInt(e,10)||5,t=await (0,p.v)(r),o=[];for(let e of t){let r={};for(let t of e.platforms)try{let o=await (0,n.s5)({platform:t,title:e.title,summary:e.summary,url:e.canonicalUrl,tags:e.tags});"X"===t?r.X=await (0,l.J)(o):"Facebook"===t?r.Facebook=await (0,c.u)(o):"Instagram"===t&&(r.Instagram=await (0,d.d)(o,e.imageUrl))}catch(e){console.error(`Failed to publish to ${t}:`,e)}await (0,p.E)(e.id,r),o.push({postId:e.id,platformIds:r})}return u.Z.json({published:o})}let h=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/cron/publish/route",pathname:"/api/cron/publish",filename:"route",bundlePath:"app/api/cron/publish/route"},resolvedPagePath:"/workspaces/traceremove-social-bot/src/app/api/cron/publish/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:q,staticGenerationAsyncStorage:b,serverHooks:f,headerHooks:v,staticGenerationBailout:g}=h,w="/api/cron/publish/route";function y(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:b})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[3271,8107,9809,8830,4060,5126],()=>t(79699));module.exports=o})();